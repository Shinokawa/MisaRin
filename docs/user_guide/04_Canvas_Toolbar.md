# 04 画布工具栏（左侧工具）

画布工具栏是绘画的主要入口。通常从上到下依次排列：图层调节、选区工具、绘画工具、视图工具等。

本章按按钮顺序逐项说明。

## 工具按钮一览

说明：

- “快捷键”在 Windows/Linux 一般显示为 `Ctrl`，在 macOS 一般显示为 `⌘`（以应用内提示为准）。
- 若当前激活的是“文字图层”，除文字/视图/吸管/图层调节外，大多数绘画与选区工具会被禁用；需要先栅格化文字图层或切换到其他像素图层。

| 顺序 | 工具 | 快捷键 | 用途（概览） |
| --- | --- | --- | --- |
| 1 | 图层调节 | `V` | 拖拽移动当前图层内容 |
| 2 | 选区工具 | `M` | 创建矩形/椭圆/多边形套索选区 |
| 3 | 选区笔 | `S` | 像画笔一样涂抹选区 |
| 4 | 魔棒工具 | `W` | 按颜色相似度生成选区预览 |
| 5 | 吸管工具 | `I`（或按住 `Alt`） | 从画布取色并设为当前颜色 |
| 6 | 画笔工具 | `B` | 使用当前画笔绘制笔触 |
| 7 | 喷枪工具 | `J` | 喷洒/涂抹颗粒纹理 |
| 8 | 透视画笔 | `Y` | 沿透视线绘制直线（需开启透视辅助线） |
| 9 | 曲线画笔 | `P` | 通过锚点绘制可编辑曲线段 |
| 10 | 橡皮擦 | `E` | 擦除当前图层内容 |
| 11 | 油漆桶 | `G` | 在闭合区域内填充颜色 |
| 12 | 文字工具 | `T` | 插入并编辑文字图层 |
| 13 | 形状工具 | `R` | 绘制矩形/椭圆/三角形/直线等形状 |
| 14 | 拖拽画布 | `H`（或按住 `Space`） | 平移视图（不改变画布内容） |
| 15 | 旋转画布 | `O` | 旋转视图（不改变画布内容） |

> 每个工具的参数在“工具设置栏”中调整，详见：`05_Tool_Settings.md`。

## 逐项说明

### 1) 图层调节（V）

作用：像“移动工具”一样，拖拽移动当前激活图层的像素内容。

怎么用：

1. 在图层栏选中要移动的图层（如果图层被锁定则无法移动）。
2. 选择“图层调节”后，在画布上按住并拖拽即可移动。
3. 松开鼠标/笔后会提交一次可撤销的移动操作。

相关设置：

- 工具设置栏中有“裁剪画布外内容”开关，用来控制图层移动后超出画布边界的内容是否被裁剪。

### 2) 选区工具（M）

作用：创建选区，用于限制绘画/填色/滤镜等操作的作用范围。

形状：

- 矩形选区
- 椭圆选区
- 多边形套索（逐点点击形成闭合多边形）

怎么用：

- 矩形/椭圆：在画布上按下并拖拽，松开完成选区。
- 叠加选区（矩形/椭圆）：已有选区时，按住 `Shift` 再拖拽，可将新选区与旧选区做合并（并集）。
- 多边形套索：逐点点击添加顶点；双击或在起点附近点击（形成闭合）即可完成选区（至少 3 个点）。

常见问题：

- 有选区时：画笔、喷枪、橡皮擦、油漆桶等多数操作只在选区内生效，选区外会被忽略。
- 取消选区：`Ctrl/⌘+D`（也可理解为“取消选择”）。

### 3) 选区笔（S）

作用：像画笔一样“涂抹”选区，适合快速勾出大致范围或细修边缘。

怎么用：

1. 选择“选区笔”。
2. 在画布上按住并涂抹，涂到的区域会加入选区。

相关设置：

- 工具设置栏中可调整“笔刷大小”（选区笔的半径会随之变化）。

### 4) 魔棒工具（W）

作用：按颜色相似度自动生成选区预览。

怎么用：

1. 选择“魔棒工具”，在画布上点击要取样的区域。
2. 应用会生成一层“选区预览”（虚线选区）。
3. 切换到其他工具时，预览会自动转为正式选区；再次进入魔棒工具时，现有选区会转为预览以便继续追加。

小技巧：

- 追加选择：当已有魔棒预览时，按住 `Shift` 再点击可把结果与当前预览叠加。

相关设置：

- 工具设置栏中的“容差（Tolerance）”决定颜色相似度阈值：数值越大，选中范围通常越大。

### 5) 吸管工具（I）

作用：从画布取色，并将其设为当前颜色（用于后续绘画/填色）。

怎么用：

- 选择吸管工具后，在画布上点击或拖动取样。

小技巧：

- 临时吸管：在非吸管工具下，按住 `Alt` 会临时切换为吸管；松开 `Alt` 自动回到原工具。

### 6) 画笔工具（B）

作用：绘制连续笔触（支持压感、随机旋转、矢量绘制等选项，取决于设置）。

怎么用：

- 在画布上按住并拖动即可绘制；若存在选区则仅在选区内生效。

相关设置：

- 详见：`05_Tool_Settings.md` 中“画笔类工具”。

### 7) 喷枪工具（J）

作用：喷洒颗粒纹理或涂抹效果，适合铺色、阴影和质感叠加。

怎么用：

- 在画布上按住并拖动即可喷涂；若存在选区则仅在选区内生效。

相关设置：

- 可切换喷枪效果（例如涂抹/飞溅），并调整喷枪大小；详见：`05_Tool_Settings.md`。

### 8) 透视画笔（Y）

作用：沿透视辅助线绘制直线，帮助对齐消失点与结构线。

使用前提：

- 需要先在菜单 `View（视图）` 中开启“透视辅助线”，并选择一点/两点/三点透视模式。

怎么用：

1. 第一次点击：设置起点（锚点）。
2. 移动鼠标/笔：预览与透视线对齐的直线。
3. 第二次点击：提交笔触（若与透视线不对齐，会提示无法落笔）。

### 9) 曲线画笔（P）

作用：通过“起点 + 终点 + 控制点”绘制曲线段，适合画流畅曲线或路径类笔触。

怎么用（常见流程）：

1. 第一次点击：设置起点，并落下一个起始点。
2. 第二次点击：设置终点，同时按住拖动以调整弯曲方向与幅度（控制点）。
3. 松开：提交曲线段；终点会成为下一段的起点，可连续绘制多段曲线。

小技巧：

- 取消/重新开始：按住 `Ctrl/⌘` 再点击，可结束当前曲线链并从头开始。

### 10) 橡皮擦（E）

作用：擦除当前图层内容。

怎么用：

- 在画布上按住并拖动擦除；若存在选区则仅在选区内生效。

相关设置：

- 橡皮擦与画笔共享部分参数（例如大小、形状、稳定等），详见：`05_Tool_Settings.md`。

### 11) 油漆桶（G）

作用：在闭合区域内填充颜色（使用当前颜色）。

怎么用：

- 在画布上点击要填充的区域；若存在选区则只会在选区内进行填充。

相关设置：

- 可调容差、填缝、是否连续、是否采样所有图层、吞线等；详见：`05_Tool_Settings.md`。

### 12) 文字工具（T）

作用：在画布中插入文字，并生成“文字图层”进行编辑。

怎么用（简要）：

1. 选择“文字工具”。
2. 在画布上点击放置文字，输入内容并调整样式。

注意：

- 文字图层上默认不支持大多数像素绘画/选区工具；如需对文字做像素级处理，请先栅格化文字图层（图层栏右键菜单或菜单 `Layer > 栅格化`）。

### 13) 形状工具（R）

作用：绘制几何形状（矩形/椭圆/三角形/直线），可选择描边/填充等表现方式。

怎么用：

- 选择形状工具后，在画布上按下并拖拽形成形状，松开提交。

相关设置：

- 可切换形状类型，并调节笔刷/填充选项；详见：`05_Tool_Settings.md`。

### 14) 拖拽画布（H）

作用：平移视图，便于查看不同区域（不改变画布内容）。

怎么用：

- 选择后在画布上拖拽即可平移视图。

小技巧：

- 按住 `Space` 可临时进入拖拽模式，松开后回到原工具。

### 15) 旋转画布（O）

作用：旋转视图，便于以舒适角度绘画（不改变画布内容）。

怎么用：

- 选择后在画布上拖拽可旋转视图。
- 工具设置栏提供更精确的角度滑块与“一键复位”。

## 撤销 / 恢复

撤销/恢复属于“历史操作”，通常显示在图层栏的控制区中：

- 撤销：`Ctrl/⌘+Z`
- 恢复：`Ctrl/⌘+Shift+Z`

