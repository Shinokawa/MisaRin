# 05 工具设置栏（随工具变化）

工具设置栏会根据你当前选择的工具，显示不同的参数、开关和下拉选项。

本章按“工具类型”逐项说明可调参数及其影响。

## 画笔类工具（画笔/透视画笔/曲线画笔/橡皮擦/形状）

这组工具共享大部分“笔刷”参数。常见的共享关系：

- 画笔大小：画笔/透视画笔/曲线画笔/橡皮擦/形状/选区笔通常共用同一套“笔刷大小”数值。
- 喷枪大小：喷枪单独维护自己的大小参数。

### 形状类型（仅形状工具）

用于决定形状工具绘制的几何类型：

- 矩形
- 椭圆
- 三角形
- 直线

切换后，工具栏中的形状图标也会随之变化，便于确认当前正在使用哪种形状。

### 笔刷大小（Brush Size / Spray Size）

用于控制笔触粗细（单位 px）。

- 滑块：快速粗调大小。
- 数字输入框：可直接输入数值。
- “+ / -”微调：每次以 `1px` 为步进增减。

提示：

- 喷枪工具显示为“喷枪大小”，其范围与画笔类略有不同。

### 笔刷形状（Brush Shape）

用于改变笔触截面形状。当前提供：

- 圆形（Circle）
- 三角（Triangle）
- 方形（Square）
- 星形（Star）

形状会影响笔触边缘与纹理感（例如方形更适合像素感/硬边，圆形更适合通用绘制）。

### 随机旋转（Random Rotation）

开启后，每次落笔/采样会对笔刷形状做随机旋转，适合避免“重复纹理”或让喷点更自然。

### 稳定器（Stabilizer）

用于平滑手抖，让线条更稳定。数值越高，线条越稳，但跟手性会下降。

说明：

- 仅在部分画笔类工具中出现（例如画笔/橡皮擦）。
- 当你开启“矢量绘制 + 流线（Streamline）”后，稳定器会被流线设置替代（两者用于不同的平滑方式）。

### 抗锯齿等级（Antialiasing Before Export）

用于控制边缘平滑程度（等级 `0~3`）。

- 等级越高：边缘更平滑，细节可能更柔和；性能消耗也可能更高。
- 等级为 0：更硬边、更接近像素风格。

### 空心笔触（Hollow Stroke）

用于绘制“空心线”（描边内侧挖空），常用于轮廓线或特殊笔刷效果。

- 空心笔触：总开关。
- 空心比例（Hollow Ratio）：控制挖空的比例（越大越空）。
- 擦除遮挡部分（Erase Occluded Parts）：开启后会尝试清理空心区域内被遮挡/重叠的部分。

提示：

- 该能力通常在画笔/曲线画笔中可用。
- 若处于擦除模式（见下“切换到橡皮擦”）则不会生效。

### 实心填充（Solid Fill，仅形状工具）

形状工具专用开关：

- 关闭：以“描边”为主（更像用笔刷画形状轮廓）。
- 开启：以“实心填充”为主（填充整个形状内部）。

### 自动锐利收尖（Auto Sharp Taper）

用于自动增强笔触的“收尖/峰值”表现，让线条末端更利落（适合线稿风格）。

### 压感（Stylus Pressure）与模拟压感（Simulated Pressure）

用于控制笔触随压力变化（依赖设备与设置）。

- 压感：使用数位笔的真实压力数据（需要设备支持）。
- 模拟压感：没有压感设备时也能得到类似效果（按速度/轨迹模拟）。

当“模拟压感”开启时，可选择压感曲线（Pressure Profile），用来决定“轻压到重压”的变化曲线。

### 切换到橡皮擦（Switch to Eraser）

让当前笔刷类工具以“擦除模式”工作，而不必切换到单独的橡皮擦工具。

- 开启后：画笔/形状/曲线等会以擦除方式影响图层。
- 关闭后：按当前颜色正常绘制。

### 矢量绘制（Vector Drawing）与流线（Streamline）

矢量绘制会改变笔触的生成方式，使线条更易获得干净的边缘/平滑效果（具体效果取决于工具与场景）。

在画笔/橡皮擦中，开启矢量绘制后会出现：

- 流线（Streamline）：另一种平滑方式。
- 流线强度：控制平滑等级（越高越稳，越低越跟手）。

## 喷枪工具

喷枪的核心参数是“大小”和“喷枪效果”。

### 喷枪大小（Spray Size）

控制喷涂半径（单位 px）。与画笔大小互不影响。

### 喷枪效果（Spray Effect）

用于切换喷枪的表现方式。常见包括：

- 柔喷（Soft Spray）：更柔和、更均匀的喷涂效果，适合铺色/阴影。
- 飞溅（Splatter）：更颗粒化的散点效果，适合做质感与噪点。

### 切换到橡皮擦（Switch to Eraser）

开启后，喷枪会以擦除模式工作（更像“喷涂橡皮”）。

### 抗锯齿等级（部分模式）

在特定喷枪模式下，会出现抗锯齿等级滑块（`0~3`）用于平滑边缘/颗粒。

## 油漆桶

油漆桶用于区域填色，参数主要影响“判定范围”和“边缘处理方式”。

### 容差（Tolerance）

控制“颜色相似度”的阈值（`0~255`）。

- 数值越低：更严格，只填充非常接近的颜色。
- 数值越高：更宽松，填充范围更大。

### 填缝（Fill Gap）

用于处理线稿缝隙导致的漏填问题（数值越大，越倾向于跨越小缝隙）。

### 抗锯齿等级

`0~3`，用于控制填色边缘的平滑度。

### 采样所有图层（Sample All Layers）

开启后，油漆桶会基于“合成后的画面”来判断边界，而不是只看当前图层。

### 连续（Contiguous）

开启后，只填充与点击点连通的区域；关闭后可能会把整个画面中所有相似颜色的区域都算作可填充目标（更激进）。

### 吞线（Swallow Color Line）

用于在填色时“吞掉”特定颜色的描边/色线，让填色更贴边。

当开启吞线后，可以选择吞线模式（通常是互斥选择）：

- 吞蓝线
- 吞绿线
- 吞红线
- 吞全部色线

这通常需要你在颜色栏中维护好“色线预设”（详见：`06_Color_Panel.md`）。

## 魔棒

魔棒主要参数是容差，用于控制颜色相似度选择范围。

### 容差（Tolerance）

`0~255`，数值越高，选中的范围通常越大。

使用技巧：

- 魔棒生成的是“选区预览”；切换到其他工具时会自动转为正式选区（详见：`04_Canvas_Toolbar.md`）。
- 追加：在已有魔棒预览时，按住 `Shift` 点击可叠加。

## 选区工具

选区工具提供“选区形状”切换，用于决定你要用哪种方式创建选区。

### 选区形状

- 矩形
- 椭圆
- 多边形套索

使用技巧：

- 矩形/椭圆模式下：已有选区时按住 `Shift` 再拖拽，可做“叠加选区”（并集）。
- 多边形套索：逐点点击，双击或回到起点附近闭合完成。

## 选区笔

选区笔只提供“笔刷大小”调节，用于控制涂抹选区的半径。

## 图层调节

### 裁剪画布外内容（Crop Outside Canvas）

用于控制图层移动后超出画布边界的像素是否会被裁剪。

- 开启：更像“严格在画布范围内工作”，超出的部分会被裁掉。
- 关闭：图层内容可暂时保留在画布外（具体显示/导出行为以实际效果为准）。

## 文字工具

文字工具的设置项用于控制文字排版与描边。

### 字体（Font Family）

点击字体选择器可打开字体列表并预览；选择后会应用到当前文字图层。

### 字号（Font Size）

控制字体大小（单位 px）。

### 行高（Line Height）

控制多行文字的行间距倍数。

### 字间距（Letter Spacing）

控制字符之间的间距（单位 px，可为负值）。

### 对齐（Alignment）

当前提供：左对齐 / 居中 / 右对齐。

### 方向（Orientation）

当前提供：横排 / 竖排。

### 抗锯齿（Antialiasing Before Export）

控制文字在导出/渲染时的平滑处理开关。

### 文字描边（Text Stroke）

开启后会出现：

- 描边颜色：点击“取色”按钮选择描边颜色（通常与颜色栏中的“色线颜色”联动）。
- 描边宽度：控制描边粗细。

## 旋转画布

旋转工具提供角度滑块，便于精确控制视图旋转。

- 旋转角度：范围 `-180° ~ 180°`。
- 重置：一键复位到 `0°`。

## 无可调参数的工具

以下工具在工具设置栏中通常不提供额外参数：

- 吸管工具
- 拖拽画布
